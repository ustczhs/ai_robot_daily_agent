{% extends "layout.html" %}

{% block title %}服务器错误 - AI与机器人技术日报{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card border-danger">
            <div class="card-header bg-danger text-white">
                <h4 class="card-title mb-0">
                    <i class="fas fa-exclamation-triangle me-2"></i>服务器错误
                </h4>
            </div>
            <div class="card-body">
                <div class="alert alert-danger">
                    <h5><i class="fas fa-times-circle me-2"></i>出错了！</h5>
                    <p class="mb-0">服务器在处理您的请求时遇到了问题。</p>
                </div>

                {% if error %}
                    <div class="mt-3">
                        <h6>错误详情：</h6>
                        <code class="text-danger">{{ error }}</code>
                    </div>
                {% endif %}

                <div class="mt-4">
                    <p class="text-muted">您可以尝试以下操作：</p>
                    <ul class="list-unstyled">
                        <li><i class="fas fa-arrow-left text-primary me-2"></i>返回上一页重试</li>
                        <li><i class="fas fa-home text-success me-2"></i><a href="/" class="text-decoration-none">返回首页</a></li>
                        <li><i class="fas fa-refresh text-warning me-2"></i>刷新页面</li>
                    </ul>
                </div>
            </div>
            <div class="card-footer">
                <small class="text-muted">
                    如果问题持续出现，请联系技术支持。
                    <br>
                    错误时间: {{ last_updated or '未知' }}
                </small>
            </div>
        </div>

        <!-- 技术信息（仅开发环境显示） -->
        {% if config.DEBUG %}
        <div class="card mt-3">
            <div class="card-header">
                <h6 class="card-title mb-0">
                    <i class="fas fa-cog me-2"></i>技术信息
                </h6>
            </div>
            <div class="card-body">
                <p class="small text-muted mb-1">此信息仅在开发环境中显示</p>
                <hr>
                <p class="mb-1"><strong>Python版本:</strong> {{ python_version or '未知' }}</p>
                <p class="mb-1"><strong>Flask版本:</strong> {{ flask_version or '未知' }}</p>
                <p class="mb-1"><strong>请求方法:</strong> {{ request.method or '未知' }}</p>
                <p class="mb-1"><strong>请求路径:</strong> {{ request.path or '未知' }}</p>
                <p class="mb-1"><strong>用户代理:</strong> {{ request.user_agent or '未知' }}</p>
            </div>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}
